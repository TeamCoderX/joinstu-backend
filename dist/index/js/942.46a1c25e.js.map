{"version":3,"file":"js/942.46a1c25e.js","mappings":"+MACSA,MAAM,a,GACFA,MAAM,oB,GACPC,EAAAA,EAAAA,GAAsC,MAAlCD,MAAM,oBAAmB,QAAI,G,GAC3BE,GAAG,gBAAgBC,OAAO,I,GACvBH,MAAM,Q,GAIXC,EAAAA,EAAAA,GAAI,mB,mBAImBD,MAAM,gCAAgCI,KAAK,SAASC,SAAA,I,SAExBL,MAAM,kCAAkCI,KAAK,SAASC,SAAA,I,SACtFL,MAAM,kCAAkCI,KAAK,SAASC,SAAA,I,GACjEJ,EAAAA,EAAAA,GAA8C,OAAzCD,MAAM,eAAeM,KAAK,U,YAA/BC,G,0CAhBpBC,EAAAA,EAAAA,IAqBM,MArBNC,EAqBM,EApBFR,EAAAA,EAAAA,GAmBM,MAnBNS,EAmBM,CAlBFC,GACAV,EAAAA,EAAAA,GAgBO,OAhBPW,EAgBO,EAfHX,EAAAA,EAAAA,GAEM,MAFNY,EAEM,WADFZ,EAAAA,EAAAA,GAA8G,SAAvGD,MAAM,eAAeI,KAAK,OAAOF,GAAG,YAAYY,KAAK,QAAQC,YAAY,KAAKC,SAAA,G,qCAAkBC,EAAAC,MAAKC,I,iBAALF,EAAAC,YAAK,SAEhHjB,EAAAA,EAAAA,GAAwH,YAA9GD,MAAM,eAAeE,GAAG,cAAcY,KAAK,WAAWC,YAAY,KAAKC,SAAA,G,qCAAkBC,EAAAG,SAAQD,I,iBAARF,EAAAG,YACnGC,GACApB,EAAAA,EAAAA,GASM,YAR4B,GAAnBgB,EAAAK,OAAOC,eAAY,WAA9Bf,EAAAA,EAAAA,IAGM,MAAAgB,EAAA,CAFkC,GAAtBP,EAAAK,OAAOG,cAAW,WAAhCjB,EAAAA,EAAAA,IAAmI,U,MAAxFR,MAAM,gCAAgCI,KAAK,SAAUsB,QAAKC,EAAA,KAAAA,EAAA,GAAAR,GAAES,EAAAH,gBAAe,WAAI,WAC1HjB,EAAAA,EAAAA,IAAyF,SAAzFqB,EAA4E,YAE1C,GAAnBZ,EAAAK,OAAOC,eAAY,WAAtCf,EAAAA,EAAAA,IAA8H,SAA9HsB,EAA8G,cAAO,WACrHtB,EAAAA,EAAAA,IAES,SAFTuB,EAESC,W,uBAS7B,GACIlB,KAAK,WACLmB,OACI,MAAM,CACFX,OAAO,CACHG,aAAY,EACZF,kBAAaW,GAEjBhB,MAAM,GACNE,SAAS,GAEjB,EACAe,QAAQ,CACJV,cACIW,KAAKd,OAAOG,aAAc,EAC1BY,EAAAA,EAAAA,KAAU,YAAY,CAClBnB,MAAMkB,KAAKlB,MACXE,SAASgB,KAAKhB,WAEhBkB,IACwB,GAAnBA,EAAIL,KAAKX,OACRiB,YAAW,KACPH,KAAKI,QAAQC,KAAK,CAAC3B,KAAK,aAAa,GACtC,KAEH4B,MAAM,SACV,IAEFC,IAC6B,KAAvBA,EAAIC,SAAStB,OACbc,KAAKS,QAAQC,KAAK,iBACW,KAAvBH,EAAIC,SAAStB,OACnBoB,MAAM,YAENK,QAAQC,MAAML,EAClB,IAEJP,KAAKd,OAAOG,aAAc,CAC9B,GAEJwB,UACIZ,EAAAA,EAAAA,KAAU,kBAAmB,CAAC,GAC7BC,IACyB,GAAnBA,EAAIL,KAAKX,OACRc,KAAKS,QAAQC,KAAK,iBAAiB,aAEZ,GAApBR,EAAIL,KAAKiB,QACRd,KAAKd,OAAOC,cAAe,EAE3Ba,KAAKd,OAAOC,cAAe,CAEnC,IAEHoB,IACGI,QAAQC,MAAML,EAAI,GAS1B,G,QCrFJ,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://joinstu-index-vue/./src/views/forum/add.vue","webpack://joinstu-index-vue/./src/views/forum/add.vue?27b0"],"sourcesContent":["<template>\n    <div class=\"card mb-0\">\n        <div class=\"card-body p-sm-5\">\n            <h2 class=\"text-center mb-4\">建立討論</h2>\n            <form id=\"form_forumAdd\" action=\"\">\n                <div class=\"mb-3\">\n                    <input class=\"form-control\" type=\"text\" id=\"inp_title\" name=\"title\" placeholder=\"標題\" required v-model=\"title\">\n                </div>\n                <textarea class=\"form-control\" id=\"inp_details\" name=\"contents\" placeholder=\"內容\" required v-model=\"contents\"></textarea>\n                <br>\n                <div>\n                    <div v-if=\"status.personAccess==true\">\n                        <button v-if=\"status.sendAddData == false\" class=\"btn btn-primary d-block w-100\" type=\"button\" @click=\"sendAddData()\">建立討論</button>\n                        <button v-else class=\"btn btn-primary d-block w-100\" type=\"button\" disabled>建立討論</button>\n                    </div>\n                    <button v-else-if=\"status.personAccess==false\" class=\"btn btn-secondary d-block w-100\" type=\"button\" disabled>管理員不可參與</button>\n                    <button v-else class=\"btn btn-secondary d-block w-100\" type=\"button\" disabled>\n                        <div class=\"spinner-grow\" role=\"status\"></div>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ajax } from '@/lib/util'\nexport default {\n    name:'forumAdd',\n    data(){\n        return{\n            status:{\n                sendAddData:false,\n                personAccess:undefined,\n            },\n            title:\"\",\n            contents:\"\",\n        }\n    },\n    methods:{\n        sendAddData(){\n            this.status.sendAddData = true;\n            ajax.post('forum/new',{\n                title:this.title,\n                contents:this.contents,\n            },\n            ((res)=>{\n                if(res.data.status == true){\n                    setTimeout(() => {\n                        this.$router.push({name:'forumList'});\n                    }, 100);\n                }else{\n                    alert('欄位不可空白')\n                }\n            }),\n            ((err)=>{\n                if (err.response.status == 403) {\n                    this.emitter.emit('callLoginShow')\n                } else if(err.response.status == 401) {\n                    alert('管理員不可參與！')\n                } else {\n                    console.error(err)\n                }\n            }))\n            this.status.sendAddData = false;\n        }\n    },\n    created(){\n        ajax.post('accounts/status', {},\n        (res) => {\n            if(res.data.status == false){\n                this.emitter.emit('preLoginWindow','forumList');\n            }else{\n                if(res.data.isAdmin == true){\n                    this.status.personAccess = false;\n                }else{\n                    this.status.personAccess = true;\n                }\n            }\n        },\n        (err) => {\n            console.error(err)\n        })\n        // setInterval(()=>{\n        //     if(this.status.sendAddData == false) {\n        //         console.log(1)\n        //         localStorage.setItem('joinstu_AddForum_title', this.title)\n        //         localStorage.setItem('joinstu_AddForum_contents', this.contents)\n        //     }\n        // },1000)\n    },\n}\n</script>","import { render } from \"./add.vue?vue&type=template&id=89416a8e\"\nimport script from \"./add.vue?vue&type=script&lang=js\"\nexport * from \"./add.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/joinstu-index-vue/joinstu-index-vue/joinstu-index-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","action","type","disabled","role","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","name","placeholder","required","$data","title","$event","contents","_hoisted_6","status","personAccess","_hoisted_7","sendAddData","onClick","_cache","$options","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","data","undefined","methods","this","ajax","res","setTimeout","$router","push","alert","err","response","emitter","emit","console","error","created","isAdmin","__exports__","render"],"sourceRoot":""}